<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Babel | Lost</title>
    <meta name="description" content="Just playing around">
    <link rel="shortcut icon" type="image/x-icon" href="/mynote/favicon.ico">
    
    <link rel="preload" href="/mynote/assets/css/0.styles.238f19cf.css" as="style"><link rel="preload" href="/mynote/assets/js/app.a21543a3.js" as="script"><link rel="preload" href="/mynote/assets/js/2.6669d9a5.js" as="script"><link rel="preload" href="/mynote/assets/js/29.e9cb3879.js" as="script"><link rel="prefetch" href="/mynote/assets/js/10.a402313f.js"><link rel="prefetch" href="/mynote/assets/js/11.4c43e70f.js"><link rel="prefetch" href="/mynote/assets/js/12.45cffb4e.js"><link rel="prefetch" href="/mynote/assets/js/13.1372c9c7.js"><link rel="prefetch" href="/mynote/assets/js/14.02454855.js"><link rel="prefetch" href="/mynote/assets/js/15.93859c96.js"><link rel="prefetch" href="/mynote/assets/js/16.6b81312c.js"><link rel="prefetch" href="/mynote/assets/js/17.afb48772.js"><link rel="prefetch" href="/mynote/assets/js/18.12c6e586.js"><link rel="prefetch" href="/mynote/assets/js/19.d577016e.js"><link rel="prefetch" href="/mynote/assets/js/20.e7b0d29b.js"><link rel="prefetch" href="/mynote/assets/js/21.289c8656.js"><link rel="prefetch" href="/mynote/assets/js/22.2e2ccadc.js"><link rel="prefetch" href="/mynote/assets/js/23.b1dbf20e.js"><link rel="prefetch" href="/mynote/assets/js/24.456a20ed.js"><link rel="prefetch" href="/mynote/assets/js/25.42edce52.js"><link rel="prefetch" href="/mynote/assets/js/26.fdcf488c.js"><link rel="prefetch" href="/mynote/assets/js/27.7151d825.js"><link rel="prefetch" href="/mynote/assets/js/28.62ab60ab.js"><link rel="prefetch" href="/mynote/assets/js/3.5bba3714.js"><link rel="prefetch" href="/mynote/assets/js/30.19a44930.js"><link rel="prefetch" href="/mynote/assets/js/31.daf13556.js"><link rel="prefetch" href="/mynote/assets/js/32.87542638.js"><link rel="prefetch" href="/mynote/assets/js/33.6ea019b4.js"><link rel="prefetch" href="/mynote/assets/js/34.70892a2e.js"><link rel="prefetch" href="/mynote/assets/js/35.7e179555.js"><link rel="prefetch" href="/mynote/assets/js/36.f472548e.js"><link rel="prefetch" href="/mynote/assets/js/37.7c5f84d1.js"><link rel="prefetch" href="/mynote/assets/js/38.cfd0e2d0.js"><link rel="prefetch" href="/mynote/assets/js/39.d5ef1777.js"><link rel="prefetch" href="/mynote/assets/js/4.59116900.js"><link rel="prefetch" href="/mynote/assets/js/40.e4be5e23.js"><link rel="prefetch" href="/mynote/assets/js/41.adb12a2a.js"><link rel="prefetch" href="/mynote/assets/js/42.f3765b1f.js"><link rel="prefetch" href="/mynote/assets/js/43.3198a3bc.js"><link rel="prefetch" href="/mynote/assets/js/44.d5d6e136.js"><link rel="prefetch" href="/mynote/assets/js/45.99c0e48c.js"><link rel="prefetch" href="/mynote/assets/js/46.f18fd44c.js"><link rel="prefetch" href="/mynote/assets/js/47.51768390.js"><link rel="prefetch" href="/mynote/assets/js/48.9d278820.js"><link rel="prefetch" href="/mynote/assets/js/49.83b9f02a.js"><link rel="prefetch" href="/mynote/assets/js/5.c91ae51f.js"><link rel="prefetch" href="/mynote/assets/js/50.b43ba368.js"><link rel="prefetch" href="/mynote/assets/js/51.4bc9ae7e.js"><link rel="prefetch" href="/mynote/assets/js/52.be29d7c6.js"><link rel="prefetch" href="/mynote/assets/js/53.f1520df7.js"><link rel="prefetch" href="/mynote/assets/js/54.1334dc4e.js"><link rel="prefetch" href="/mynote/assets/js/55.54964a79.js"><link rel="prefetch" href="/mynote/assets/js/56.0052e3b2.js"><link rel="prefetch" href="/mynote/assets/js/57.aa2cac83.js"><link rel="prefetch" href="/mynote/assets/js/58.08f5216c.js"><link rel="prefetch" href="/mynote/assets/js/6.b66f396e.js"><link rel="prefetch" href="/mynote/assets/js/7.0f85c58d.js"><link rel="prefetch" href="/mynote/assets/js/8.13698112.js"><link rel="prefetch" href="/mynote/assets/js/9.5edc3939.js">
    <link rel="stylesheet" href="/mynote/assets/css/0.styles.238f19cf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/mynote/" class="home-link router-link-active"><img src="/mynote/logo.png" alt="Lost" class="logo"> <span class="site-name can-hide">Lost</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/mynote/note/" class="nav-link router-link-active">note</a></div><div class="nav-item"><a href="/mynote/blog/" class="nav-link">blog</a></div><div class="nav-item"><a href="/mynote/resume/" class="nav-link">resume</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mynote/language/chinese/" class="nav-link">Chinese</a></li><li class="dropdown-item"><!----> <a href="/mynote/language/japanese/" class="nav-link">Japanese</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/mynote/note/" class="nav-link router-link-active">note</a></div><div class="nav-item"><a href="/mynote/blog/" class="nav-link">blog</a></div><div class="nav-item"><a href="/mynote/resume/" class="nav-link">resume</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mynote/language/chinese/" class="nav-link">Chinese</a></li><li class="dropdown-item"><!----> <a href="/mynote/language/japanese/" class="nav-link">Japanese</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/mynote/note/JavaScript.html" class="sidebar-link">JavaScript</a></li><li><a href="/mynote/note/ES6.html" class="sidebar-link">ES6 语法</a></li><li><a href="/mynote/note/Node.html" class="sidebar-link">NodeAPI</a></li><li><a href="/mynote/note/React.html" class="sidebar-link">React</a></li><li><a href="/mynote/note/Vue.html" class="sidebar-link">Vue</a></li><li><a href="/mynote/note/TypeScript.html" class="sidebar-link">TyprScript</a></li><li><a href="/mynote/note/Babel.html" class="active sidebar-link">Babel</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mynote/note/Babel.html#概述" class="sidebar-link">概述</a></li><li class="sidebar-sub-header"><a href="/mynote/note/Babel.html#配置文件" class="sidebar-link">配置文件</a></li><li class="sidebar-sub-header"><a href="/mynote/note/Babel.html#相关工具包" class="sidebar-link">相关工具包</a></li><li class="sidebar-sub-header"><a href="/mynote/note/Babel.html#运行时转换" class="sidebar-link">运行时转换</a></li></ul></li><li><a href="/mynote/note/CSS.html" class="sidebar-link">CSS</a></li><li><a href="/mynote/note/HTML5.html" class="sidebar-link">HTML5</a></li><li><a href="/mynote/note/Webpack.html" class="sidebar-link">webpack@4.x</a></li><li><a href="/mynote/note/Git&amp;GitHub.html" class="sidebar-link">Git / GitHub 使用指南</a></li><li><a href="/mynote/note/npm&amp;yarn.html" class="sidebar-link">npm &amp; yarn</a></li><li><a href="/mynote/note/Electron.html" class="sidebar-link">Electron</a></li><li><a href="/mynote/note/ESLint.html" class="sidebar-link">Lint</a></li><li><a href="/mynote/note/MongoDB.html" class="sidebar-link">MongoDB</a></li><li><a href="/mynote/note/pm2.html" class="sidebar-link">pm2</a></li><li><a href="/mynote/note/Dart.html" class="sidebar-link">Dart</a></li><li><a href="/mynote/note/Flutter.html" class="sidebar-link">Flutter</a></li><li><a href="/mynote/note/Linux.html" class="sidebar-link">Linux</a></li><li><a href="/mynote/note/shell.html" class="sidebar-link">shell</a></li><li><a href="/mynote/note/Python.html" class="sidebar-link">Python</a></li><li><a href="/mynote/note/RegExp.html" class="sidebar-link">RegExp（JavaScript 对象）</a></li><li><a href="/mynote/note/Angular.html" class="sidebar-link">Angular</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="babel"><a href="#babel" class="header-anchor">#</a> Babel</h1> <p>[TOC]</p> <h2 id="概述"><a href="#概述" class="header-anchor">#</a> 概述</h2> <p><strong>Babel</strong> 是一个 <strong>JavaScript</strong> 编译器，主要用于将 <strong>ES2015+</strong> 版本的代码转换为向后兼容的 <strong>JavaScript</strong> 语法，从而在现有环境执行</p> <h2 id="配置文件"><a href="#配置文件" class="header-anchor">#</a> 配置文件</h2> <p>配置文件用于设置转码规则和插件，<strong>Babel</strong> 的配置文件为 <em>.babelrc</em> 或 <em>babel.config.js</em>。</p> <p>官方建议使用 <em>babel.config.js</em>，配置文件存放于项目根目录下。</p> <ul><li><em>babel.config.js</em> 文件基本格式如下：</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">api</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  api<span class="token punctuation">.</span><span class="token function">cache</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> presets <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token operator">...</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> plugins <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token operator">...</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    presets<span class="token punctuation">,</span>
    plugins
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><em>.babelrc</em> 文件基本格式如下：</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;@babel/preset-react&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;transform-vue-jsx&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;transform-runtime&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>还可以选择将 .babelrc 中的配置信息作为 babel 键的值添加到 package.json 文件中，如下所示：</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my-package&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;babel&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>presets</code> 字段设定转码规则，以下是官方提供的规则集，使用 <strong>npm</strong> 安装后在配置文件中导入
<ul><li><strong>ES2015</strong> 转码规则：babel-preset-es2015</li> <li><strong>ES7</strong> 不同阶段语法提案的转码规则（共有 4 个阶段），选装一个：</li> <li>babel-preset-stage-0</li> <li>babel-preset-stage-1</li> <li>babel-preset-stage-2</li> <li>babel-preset-stage-3</li> <li><strong>React</strong> 转码规则：babel-preset-react</li></ul></li> <li>如果某些代码需要调用 <strong>Babel</strong> 的 <strong>API</strong> 进行转码，就要使用 <code>babel-core</code> 模块</li> <li><strong>babel-preset-env</strong> 可以根据配置的目标运行环境自动启用需要的 <strong>babel</strong> 插件</li></ul> <h2 id="相关工具包"><a href="#相关工具包" class="header-anchor">#</a> 相关工具包</h2> <ol><li><em>@babel/core</em> <strong>Babel</strong> 核心模块</li> <li><em>@babel/cli</em> 命令行工具</li> <li><em>@babel/preset-env</em> 会为目标浏览器中没有的功能加载转换插件</li> <li><em>@babel/polyfill</em> 模块包括 core-js 和一个自定义的 regenerator runtime 模块用于模拟完整的 ES2015+ 环境</li></ol> <h2 id="运行时转换"><a href="#运行时转换" class="header-anchor">#</a> 运行时转换</h2> <ul><li>使用 JSX 可以极大的简化 React 元素的创建，JSX 抽象化了 React.createElement() 函数的使用。</li> <li>通过 Babel，将 JSX 转换为使用 React.createElement() 类的 ES5 的语句，使其能被现今的浏览器引擎识别</li></ul> <blockquote><p>在运行时引用 babel.js 虽然容易使用而且还很方便，不过并不是一种好的方案，因为需要转换，所以更加耗时。
这一缺点在产品阶段显得更加明显。类似于 JSFiddle 这样的工具，在线转换 React 用的就是这种方法。</p></blockquote> <ul><li>browser.js 为 babel.js 的浏览器版本，<code>type=&quot;text/babel&quot;</code></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/mynote/note/TypeScript.html" class="prev">TyprScript</a></span> <span class="next"><a href="/mynote/note/CSS.html">CSS</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/mynote/assets/js/app.a21543a3.js" defer></script><script src="/mynote/assets/js/2.6669d9a5.js" defer></script><script src="/mynote/assets/js/29.e9cb3879.js" defer></script>
  </body>
</html>
